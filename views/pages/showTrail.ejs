<h1><%= trail.name %></h1>

<img class="trail-img" src="<%= trail.imgMedium %>" alt="Image of hike">
<h4><%= trail.summary %></h3>
<form action="/trails" method="POST">
  <input type="hidden" name="id" value="<%= currentUser.id %>">
  <input type="hidden" name="name" value="<%= trail.name %>">
  <input type="hidden" name="idnum" value="<%= trail.id %>">
  <input type="submit" value="Add to Your Trails">
</form>

<div class="trail-detail">
<h3><strong>Elevation</strong></h3>
<h4><%= trail.ascent %>ft</h4>
<h4><%= trail.descent %>ft</h4>
<h4><%= trail.high %>ft</h4>
<h4><%= trail.low %>ft</h4>

<h3><strong>Trail</strong></h3>
<h4><%= trail.length %>mi</h4>
</div>


<div id='map' style='width: 400px; height: 300px;'></div>
<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiYnJhbmRvbjIwNSIsImEiOiJjazFzZXB6ZHEwMjV2M2Jtd3NhaDh6dnFqIn0.sZ7plho546gq4TBKteOPYw';  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/light-v10',
    center: [-96, 40.8],
  zoom: 1
  })
  map.on('load', function(){
  map.addLayer({
    "id": "points",
    "type": "symbol",
    "source": {
      "type": "geojson",
      "data": {
        "type": "FeatureCollection",
        "features": [{
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [<%- Number(trail.longitude) %>, <%- Number(trail.latitude) %>]
          }
        }]
      }
    },
    "layout": {
      "text-field": "words",
      "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
      "text-offset": [0, 0.6],
      "text-anchor": "top"
    }
  });
  });
</script>
